[{"operator":"apfell_admin","script":"ZnVuY3Rpb24odGFzaywgcmVzcG9uc2UpewogIHZhciByb3dzID0gW107CiAgZm9yKHZhciBpID0gMDsgaSA8IHJlc3BvbnNlLmxlbmd0aDsgaSsrKXsKICAgIHRyeXsKICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2VbaV1bJ3Jlc3BvbnNlJ10pOwogICAgfQogICAgY2F0Y2goZXJyb3IpewogICAgICAgIHJldHVybiByZXNwb25zZTsKICAgIH0KICAgdmFyIHJvd19zdHlsZSA9ICIiOwogICB2YXIgY2VsbF9zdHlsZSA9IHt9OwogICAgT2JqZWN0LmtleXMoZGF0YSkuZm9yRWFjaChmdW5jdGlvbih4KXsKICAgICAgdmFyIHIgPSBkYXRhW3hdOwogICAgICB2YXIgcm93X3N0eWxlID0gIiI7CiAgICAgIGlmKHJbJ2xvY2FsaXplZE5hbWUnXS5pbmNsdWRlcygiMVBhc3N3b3JkIikpe3Jvd19zdHlsZT0iYmFja2dyb3VuZC1jb2xvcjpncmVlbjtjb2xvcjp3aGl0ZSJ9CiAgICAgIGlmKHJbJ2xvY2FsaXplZE5hbWUnXS5pbmNsdWRlcygiVGVybSIpKXtyb3dfc3R5bGU9ImJhY2tncm91bmQtY29sb3I6cmVkO2NvbG9yOndoaXRlIn0KICAgICAgaWYoclsnbG9jYWxpemVkTmFtZSddLmluY2x1ZGVzKCJTbml0Y2giKSl7cm93X3N0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOnJlZDtjb2xvcjp3aGl0ZSJ9CiAgICAgIHJvd3MucHVzaCh7InBpZCI6IHgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiByWydsb2NhbGl6ZWROYW1lJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgImFyY2giOiByWydhcmNoaXRlY3R1cmUnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAiZnJvbnRNb3N0IjogclsnZnJvbnRNb3N0J10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgImV4ZWN1dGFibGUiOiByWydidW5kbGVFeGVjdXRhYmxlJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICJyb3ctc3R5bGUiOiByb3dfc3R5bGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICJjZWxsLXN0eWxlIjogeyJoaWRkZW4iOiAidGV4dC1hbGlnbjpjZW50ZXIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInBpZCI6InRleHQtYWxpZ246Y2VudGVyIn0KICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgfSk7CiAgfQogIHZhciBvdXRwdXQgPSBzdXBwb3J0X3NjcmlwdHNbJ2NyZWF0ZV90YWJsZSddKFt7Im5hbWUiOiJwaWQiLCJzaXplIjoiMmVtIn0seyJuYW1lIjoiYXJjaCIsInNpemUiOiIyZW0ifSx7Im5hbWUiOiJuYW1lIiwgInNpemUiOiIxMGVtIn0sIHsibmFtZSI6ImZyb250TW9zdCIsInNpemUiOiIzZW0ifSx7Im5hbWUiOiJleGVjdXRhYmxlIiwic2l6ZSI6IjIwZW0ifV0sIHJvd3MpOwogIHJldHVybiBvdXRwdXQ7Cn0=","command":"list_apps","payload_type":"apfell-jxa"},{"operator":"apfell_admin","script":"ZnVuY3Rpb24odGFzaywgcmVzcG9uc2VzKXsKICBpZihyZXNwb25zZXMubGVuZ3RoID09IDIpewogICAgdHJ5ewogICAgICAgIHZhciBzdGF0dXMgPSBKU09OLnBhcnNlKHJlc3BvbnNlc1sxXVsncmVzcG9uc2UnXSk7CiAgICB9Y2F0Y2goZXJyb3IpewogICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KEpTT04ucGFyc2UocmVzcG9uc2VzKSwgbnVsbCwgMik7OwogICAgfQogICAgaWYoc3RhdHVzLmhhc093blByb3BlcnR5KCdmaWxlX2lkJykpewogICAgICB2YXIgb3V0cHV0ID0gIjxkaXYgY2xhc3M9J2NhcmQnPjxkaXYgY2xhc3M9J2NhcmQtaGVhZGVyIGJvcmRlciBib3JkZXItZGFyayBzaGFkb3cnPkZpbmlzaGVkIERvd25sb2FkaW5nIDxzcGFuIGNsYXNzPSdkaXNwbGF5Jz4iICsgdGFza1sncGFyYW1zJ10gKyAiPC9zcGFuPi4gQ2xpY2sgPGEgaHJlZj0nL2FwaS92MS4zL2ZpbGVzL2Rvd25sb2FkLyIgKyBzdGF0dXNbJ2ZpbGVfaWQnXSArICInPmhlcmU8L2E+IHRvIGRvd25sb2FkPC9kaXY+PC9kaXY+IjsKICAgICAgcmV0dXJuIG91dHB1dDsKICAgIH0KICB9CiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KEpTT04ucGFyc2UocmVzcG9uc2VzKSwgbnVsbCwgMik7Cn0=","command":"download","payload_type":"apfell-jxa"},{"operator":"apfell_admin","script":"ZnVuY3Rpb24odGFzaywgcmVzcG9uc2VzKXsKICBpZihyZXNwb25zZXMubGVuZ3RoID09IDIpewogICAgdHJ5ewogICAgICAgIHZhciBzdGF0dXMgPSBKU09OLnBhcnNlKHJlc3BvbnNlc1sxXVsncmVzcG9uc2UnXSk7CiAgICB9Y2F0Y2goZXJyb3IpewogICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KEpTT04ucGFyc2UocmVzcG9uc2VzLCBudWxsLCAyKSk7CiAgICB9CiAgICBpZihzdGF0dXMuaGFzT3duUHJvcGVydHkoJ2ZpbGVfaWQnKSl7CiAgICAJdmFyIGlkID0gc3RhdHVzWydmaWxlX2lkJ107CiAgICB9ZWxzZXsKICAgIAl2YXIgaWQgPSBzdGF0dXNbJ2lkJ107CiAgICB9CiAgICAgIHZhciBvdXRwdXQgPSAiPGRpdiBjbGFzcz0nY2FyZCc+PGRpdiBjbGFzcz0nY2FyZC1oZWFkZXIgYm9yZGVyIGJvcmRlci1kYXJrIHNoYWRvdyc+PGEgY2xhc3M9J2J0biBzdHJldGNoZWQtbGluaycgdHlwZT0nYnV0dG9uJyBkYXRhLXRvZ2dsZT0nY29sbGFwc2UnIGRhdGEtdGFyZ2V0PScjdGFzayIgKyB0YXNrWydpZCddICsgInNjcmVlbmNhcHR1cmUnIGFyaWEtZXhwYW5kZWQ9J2ZhbHNlJyBhcmlhLWNvbnRyb2xzPSd0YXNrIiArIHRhc2tbJ2lkJ10gKyAic2NyZWVuY2FwdHVyZSc+RmluaXNoZWQgPGZvbnQgY29sb3I9J3JlZCc+U2NyZWVuY2FwdHVyZSAiICsgdGFza1sncGFyYW1zJ10gKyAiPC9mb250Pi4gQ2xpY2sgdG8gdmlldzwvZGl2PiI7CiAgICAgIG91dHB1dCArPSAiPGRpdiBjbGFzcz0nY29sbGFwc2UnIGlkPVwidGFzayIgKyB0YXNrWydpZCddICsgInNjcmVlbmNhcHR1cmVcIiBzdHlsZT0nd2lkdGg6MTAwJSc+IjsKICAgICAgb3V0cHV0ICs9ICI8ZGl2IGNsYXNzPSdyZXNwb25zZS1iYWNrZ3JvdW5kIGNhcmQtYm9keSc+PGltZyBzcmM9Jy9hcGkvdjEuMy9maWxlcy9zY3JlZW5jYXB0dXJlcy8iICsgaWQgKyAiJyB3aWR0aD0nMTAwJSc+PC9kaXY+PC9kaXY+PC9kaXY+IjsKICAgICAgcmV0dXJuIG91dHB1dDsKICB9CiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KEpTT04ucGFyc2UocmVzcG9uc2VzLCBudWxsLCAyKSk7Cn0=","command":"screencapture","payload_type":"apfell-jxa"},{"operator":"apfell_admin","script":"ZnVuY3Rpb24odGFzaywgcmVzcG9uc2UpewogIHZhciByb3dzID0gW107CiAgZm9yKHZhciBpID0gMDsgaSA8IHJlc3BvbnNlLmxlbmd0aDsgaSsrKXsKICAgIHRyeXsKICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2VbaV1bJ3Jlc3BvbnNlJ10pOwogICAgfWNhdGNoKGVycm9yKXsKICAgICAgICByZXR1cm4gIkZhaWxlZCB0byBwYXJzZSBqc29uIHdpdGggZXJyb3IiICsgZXJyb3IudG9TdHJpbmcoKSArICI6XG4iICsgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2VzLCBudWxsLCAyKTsKICAgIH0KICAgdmFyIHJvd19zdHlsZSA9ICIiOwogICB2YXIgY2VsbF9zdHlsZSA9IHsiaGlkZGVuIjogInRleHQtYWxpZ246Y2VudGVyIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjoidGV4dC1hbGlnbjpjZW50ZXIifTsKICAgIHJvd3MucHVzaCh7Im5hbWUiOiBkYXRhWyduYW1lJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgInNpemUiOiBkYXRhWydzaXplJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgInBlcm1pc3Npb25zIjogZGF0YVsncGVybWlzc2lvbnMnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAib3duZXIiOiBkYXRhWydvd25lciddLAogICAgICAgICAgICAgICAgICAgICAgICAgICJncm91cCI6IGRhdGFbJ2dyb3VwJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgImhpZGRlbiI6IGRhdGFbJ2hpZGRlbiddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6IGRhdGFbJ3R5cGUnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgInJvdy1zdHlsZSI6IHJvd19zdHlsZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgImNlbGwtc3R5bGUiOiBjZWxsX3N0eWxlCiAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgIGlmKCFkYXRhLmhhc093blByb3BlcnR5KCdmaWxlcycpKXtkYXRhWydmaWxlcyddID0gW119OwogICAgZGF0YVsnZmlsZXMnXS5mb3JFYWNoKGZ1bmN0aW9uKHIpewogICAgICB2YXIgcm93X3N0eWxlID0gIiI7CiAgICAgIGlmKHJbJ25hbWUnXS5pbmNsdWRlcygiLnNoIikpe3Jvd19zdHlsZT0iYmFja2dyb3VuZC1jb2xvcjpyZWQ7Y29sb3I6d2hpdGUifQogICAgICByb3dzLnB1c2goeyJuYW1lIjogclsnbmFtZSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICJzaXplIjogclsnc2l6ZSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICJwZXJtaXNzaW9ucyI6IHJbJ3Blcm1pc3Npb25zJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgIm93bmVyIjogclsnb3duZXInXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAiZ3JvdXAiOiByWydncm91cCddLAogICAgICAgICAgICAgICAgICAgICAgICAgICJoaWRkZW4iOiByWydoaWRkZW4nXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiByWyd0eXBlJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICJyb3ctc3R5bGUiOiByb3dfc3R5bGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICJjZWxsLXN0eWxlIjogeyJoaWRkZW4iOiAidGV4dC1hbGlnbjpjZW50ZXIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiJ0ZXh0LWFsaWduOmNlbnRlciJ9CiAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgIH0pOwogIH0KICB2YXIgb3V0cHV0ID0gc3VwcG9ydF9zY3JpcHRzWydjcmVhdGVfdGFibGUnXShbeyJuYW1lIjoibmFtZSIsICJzaXplIjoiMTBlbSJ9LHsibmFtZSI6InNpemUiLCAic2l6ZSI6IjJlbSJ9LCB7Im5hbWUiOiJwZXJtaXNzaW9ucyIsICJzaXplIjoiMmVtIn0seyJuYW1lIjoib3duZXIiLCJzaXplIjoiM2VtIn0gLHsibmFtZSI6ICJncm91cCIsICJzaXplIjogIjJlbSJ9ICx7Im5hbWUiOiAiaGlkZGVuIiwgInNpemUiOiAiMWVtIn0gLHsibmFtZSI6InR5cGUiLCAic2l6ZSI6ICIxZW0ifV0sIHJvd3MpOwogIHJldHVybiBvdXRwdXQ7Cn0=","command":"ls","payload_type":"apfell-jxa"},{"operator":"apfell_admin","script":"ZnVuY3Rpb24oaGVhZGVycywgZGF0YSl7CiAgdmFyIG91dHB1dCA9ICI8dGFibGUgc3R5bGU9J3RhYmxlLWxheW91dDpmaXhlZDt3b3JkLXdyYXA6IGJyZWFrLWFsbDt3aWR0aDoxMDAlJyBjbGFzcz0ndGFibGUgdGFibGUtc3RyaXBlZCB0YWJsZS1ob3ZlciB0YWJsZS1kYXJrIGJvcmRlciBib3JkZXItZGFyayBzaGFkb3cnPiI7CiAgb3V0cHV0ICs9ICI8dHI+IjsKICBmb3IodmFyIGkgPSAwOyBpIDwgaGVhZGVycy5sZW5ndGg7IGkrKyl7CiAgICBvdXRwdXQgKz0gIjx0aCBzdHlsZT0nYmFja2dyb3VuZC1jb2xvcjojMzkzNDg1O2NvbG9yOndoaXRlO2hlaWdodDo0MHB4O3RleHQtYWxpZ246bGVmdDtwYWRkaW5nOjBweCAwcHggMHB4IDIwcHg7d2lkdGg6IiArIGhlYWRlcnNbaV1bJ3NpemUnXSArICInIG9uY2xpY2s9XCJzb3J0X3RhYmxlKHRoaXMpXCI+IiArIGhlYWRlcnNbaV1bJ25hbWUnXS50b1VwcGVyQ2FzZSgpICsgIjwvdGg+IjsKICB9CiAgb3V0cHV0ICs9ICI8L3RyPiI7CiAgZm9yKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspewogICAgb3V0cHV0ICs9ICI8dHIgc3R5bGU9J3RleHQtYWxpZ246bGVmdDsiICsgZGF0YVtpXVsncm93LXN0eWxlJ10gKyAiJz4iOwogICAgZm9yKHZhciBqID0gMDsgaiA8IGhlYWRlcnMubGVuZ3RoOyBqKyspewogICAgIGlmKGRhdGFbaV1bJ2NlbGwtc3R5bGUnXS5oYXNPd25Qcm9wZXJ0eShoZWFkZXJzW2pdKSl7CiAgICAgICAgb3V0cHV0ICs9ICI8dGQgc3R5bGU9J3BhZGRpbmc6MHB4IDBweCAwcHggMjBweDsiICsgZGF0YVtpXVsnY2VsbC1zdHlsZSddW2hlYWRlcnNbal1bJ25hbWUnXV0gKyAiJz4iICsgZGF0YVtpXVtoZWFkZXJzW2pdWyduYW1lJ11dICsgIjwvdGQ+IjsKICAgICB9CiAgICAgZWxzZXsKICAgICAgICBvdXRwdXQgKz0gIjx0ZCBzdHlsZT0ncGFkZGluZzowcHggMHB4IDBweCAyMHB4Jz4iICsgZGF0YVtpXVtoZWFkZXJzW2pdWyduYW1lJ11dICsgIjwvdGQ+IjsKICAgICB9CiAgICB9CiAgICBvdXRwdXQgKz0gIjwvdHI+IjsKICB9CiAgb3V0cHV0ICs9ICI8L3RhYmxlPiI7CiAgcmV0dXJuIG91dHB1dDsKfQ==","name":"create_table"},{"operator":"apfell_admin","script":"ZnVuY3Rpb24oaGVhZGVyLCBlbGVtZW50LCB1bmlxdWVfaWQpewoJLy90YWtlcyBpbiBpbmZvcm1hdGlvbiBhYm91dCB0aGUgaGVhZGVyIHRvIG1ha2UgYW5kIHRoZSBlbGVtZW50IHRvIGNvbGxhcHNlIHdpdGhpbiBpdCAoYXMgYSBzdHJpbmcpCgl2YXIgb3V0cHV0ID0gIjxkaXYgY2xhc3M9J2NhcmQnPjxkaXYgY2xhc3M9J2NhcmQtaGVhZGVyIGJvcmRlciBib3JkZXItZGFyayBzaGFkb3cnPjxhIGNsYXNzPSdidG4nIHR5cGU9J2J1dHRvbicgZGF0YS10b2dnbGU9J2NvbGxhcHNlJyBkYXRhLXRhcmdldD0nI2JzdGFzayIgKyB1bmlxdWVfaWQgKyAiJyBhcmlhLWV4cGFuZGVkPSdmYWxzZScgYXJpYS1jb250cm9scz0nYnN0YXNrIiArIHVuaXF1ZV9pZCArICInPiIrIGhlYWRlclsnbmFtZSddICsgIjwvZGl2PiI7CiAgICAgIG91dHB1dCArPSAiPGRpdiBjbGFzcz0nY29sbGFwc2UnIGlkPVwiYnN0YXNrIiArIHVuaXF1ZV9pZCArICJcIiBzdHlsZT0nd2lkdGg6MTAwJSc+IjsKICAgICAgb3V0cHV0ICs9ICI8ZGl2IGNsYXNzPSdiZy1jYXJkLWJvZHktbDIgY2FyZC1ib2R5IGJvcmRlciBib3JkZXItZGFyayBzaGFkb3cnPiIgKyBlbGVtZW50ICsgIjwvZGl2PjwvZGl2PjwvZGl2PiI7CiAgcmV0dXJuIG91dHB1dDsKfQ==","name":"collapsable"}]